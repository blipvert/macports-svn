--- texk/web2c/web2c/splitup.c.orig	2015-08-22 01:06:04.000000000 -0400
+++ texk/web2c/web2c/splitup.c	2015-08-22 01:04:59.000000000 -0400
@@ -120,6 +120,9 @@
   if (STREQ (output_name, "mf")) {
     fputs ("#define INIMF\n#define MF\n", out);
     coerce = "mfcoerce.h";
+  } else if (STREQ (output_name, "mp")) {
+    fputs ("#define INIMP\n#define MP\n", out);
+    coerce = "mpcoerce.h";
   } else if (STREQ (output_name, "tex")) {
     fputs ("#define INITEX\n#define TeX\n#define onlyTeX\n", out);
     coerce = "texcoerce.h";
@@ -148,7 +151,7 @@
     fputs ("#define INITEX\n#define TeX\n#define XeTeX\n", out);
     coerce = "xetexcoerce.h";
   } else
-    FATAL1 ("Can only split mf, tex, aleph, eptex, euptex, etex, pdftex, ptex, uptex, or xetex,\n not %s", output_name);
+    FATAL1 ("Can only split mf, mp, tex, aleph, eptex, euptex, etex, pdftex, ptex, uptex, or xetex,\n not %s", output_name);
   
   coerce_len = strlen (coerce);
   
